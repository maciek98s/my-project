{"remainingRequest":"C:\\Users\\I515655\\Desktop\\GitKraken\\MainProject-Project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\I515655\\Desktop\\GitKraken\\MainProject-Project\\src\\components\\CategoryMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\I515655\\Desktop\\GitKraken\\MainProject-Project\\src\\components\\CategoryMain.vue","mtime":1588079532426},{"path":"C:\\Users\\I515655\\Desktop\\GitKraken\\MainProject-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\I515655\\Desktop\\GitKraken\\MainProject-Project\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\I515655\\Desktop\\GitKraken\\MainProject-Project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\I515655\\Desktop\\GitKraken\\MainProject-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\I515655\\Desktop\\GitKraken\\MainProject-Project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQXBpIGZyb20gJy4uL2FwaS9hcGknDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkNhdGVnb3J5TWFpbiIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNlYXJjaDogJycsDQogICAgICBtYWluQ2F0ZWdvcnk6IFt7fV0sDQogICAgICBuYW1lb2ZDYXRlZ29yeTogdGhpcy4kcm91dGUucXVlcnkucGxhbiwNCiAgICAgIGluZGV4OiBwYXJzZUludCh0aGlzLiRyb3V0ZS5xdWVyeS5wbGFuMiksDQogICAgICBnZXRCb2FyZDogW10sDQogICAgICBubG9vcHM6IDAsDQogICAgICBsb2FkaW5nOiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBvcmdhbml6YXRpb24oKXsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5vcmdhbml6YXRpb247DQogICAgfSwNCiAgICBmaWx0ZXJlZExpc3QoKXsNCiAgICAgIHJldHVybiB0aGlzLm1haW5DYXRlZ29yeS5yZXBvLmZpbHRlcihyZXAgPT4gew0KICAgICAgICAgIHJldHVybiByZXAuc2hvcnROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5zZWFyY2gudG9Mb3dlckNhc2UoKSkNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNvcHlTc2goc3NoKXsNCiAgICAgIEFwaS5jb3B5U3NoKHNzaCk7DQogICAgICB0aGlzLiRzd2FsLmZpcmUoew0KICAgICAgICB0aXRsZTogJ0NvcGllZCEnLA0KICAgICAgICB0ZXh0OiAnVGhlIHNzaCBwYXRoIGhhcyBiZWVuIGNvcGllZCB0byB0aGUgY2xpcGJvYXJkLicsDQogICAgICAgIGljb246ICdzdWNjZXNzJywNCiAgICAgICAgdGltZXI6IDEwMDANCiAgICAgICAgfSkNCiAgICB9DQogIH0sDQogIGFzeW5jIG1vdW50ZWQoKXsNCiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgdGhpcy5tYWluQ2F0ZWdvcnkgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuY2F0ZWdvcnk7DQogICAgaWYgKHR5cGVvZih0aGlzLmNhdGVnb3J5KSA9PSAndW5kZWZpbmVkJyB8fCB0aGlzLmNhdGVnb3J5ID09PSBudWxsKXsNCiAgICAgIC8vIHVybCB0byByZXF1ZXN0IGdlbmVyaWMgZGF0YSBhYm91dCB0aGUgb3JnYW5pemF0aW9uIGRhdGENCiAgICAgIHZhciB1cmwgPSBgaHR0cHM6Ly9naXRodWIud2RmLnNhcC5jb3JwL2FwaS92My9vcmdzLyR7dGhpcy5vcmdhbml6YXRpb259L3JlcG9zP3Blcl9wYWdlPTEwMGA7DQoNCiAgICAgIC8vIGNhbGwgdG8gdGhlIG1ldGhvZCB0byByZXRyaXZlIGRhdGEgYW5kIHdhaXQgZm9yIHRoZSBkYXRhIHRvIGNvbWUgYmFjaw0KICAgICAgdGhpcy5nZXRSZXBvcyA9IGF3YWl0IEFwaS5nZXREYXRhKHVybCk7DQoNCiAgICAgIC8vIGRpdmlkZSB0aGUgcmVwb3MgaW4gY2F0ZWdvcnkgKCcqJyBtZWFucyBhbGwgdGhlIGNhdGVnb3JpZXMpDQogICAgICB0aGlzLm1haW5DYXRlZ29yeSA9IChhd2FpdCBBcGkuZ2V0Q2F0ZWdvcnkodGhpcy5nZXRSZXBvcyx0aGlzLiRyb3V0ZS5xdWVyeS5wbGFuLCIqIikpWzBdOw0KICAgIH0NCiAgICBlbHNlIHsNCiAgICAgIHRoaXMubWFpbkNhdGVnb3J5ID0gdGhpcy5tYWluQ2F0ZWdvcnlbdGhpcy5pbmRleF07DQogICAgfQ0KDQogICAgZm9yICh2YXIgaT0wOyBpPHRoaXMubWFpbkNhdGVnb3J5LnJlcG8ubGVuZ3RoOyBpKyspew0KICAgICAgLy8gdXJsIHRvIHJlcXVlc3QgZ2VuZXJpYyBkYXRhIGFib3V0IHRoZSBvcmdhbml6YXRpb24gZGF0YQ0KICAgICAgdmFyIHVybEJvYXJkID0gYGh0dHBzOi8vemVuaHViLm1vLnNhcC5jb3JwL3AxL3JlcG9zaXRvcmllcy8ke3RoaXMubWFpbkNhdGVnb3J5LnJlcG9baV0uaWR9L2JvYXJkYDsNCg0KICAgICAgLy8gdXJsIHRvIHJlcXVlc3QgYWxsIHRoZSBoaWdoIGlzc3Vlcw0KICAgICAgdmFyIHVybFByaW9yaXR5ID0gYGh0dHBzOi8vZ2l0aHViLndkZi5zYXAuY29ycC9hcGkvdjMvcmVwb3MvJHt0aGlzLm9yZ2FuaXphdGlvbn0vJHt0aGlzLm1haW5DYXRlZ29yeS5yZXBvW2ldLmxvbmdOYW1lfS9pc3N1ZXM/bGFiZWxzPWhpZ2ggaXNzdWVgOw0KDQogICAgICAvLyB1cmwgdG8gcmVxdWVzdCBjbG9zZWQgaXNzdWVzDQogICAgICB2YXIgdXJsQ2xvc2VkID0gYGh0dHBzOi8vZ2l0aHViLndkZi5zYXAuY29ycC9hcGkvdjMvcmVwb3MvJHt0aGlzLm9yZ2FuaXphdGlvbn0vJHt0aGlzLm1haW5DYXRlZ29yeS5yZXBvW2ldLmxvbmdOYW1lfS9pc3N1ZXM/c3RhdGU9Y2xvc2VkYDsNCg0KICAgICAgLy8gY2FsbCB0byB0aGUgbWV0aG9kIHRvIHJldHJpdmUgZGF0YSBhbmQgd2FpdCBmb3IgdGhlIGRhdGEgdG8gY29tZSBiYWNrDQogICAgICB0cnl7DQogICAgICAgIHRoaXMuZ2V0Qm9hcmQucHVzaChhd2FpdCBBcGkuZ2V0RGF0YVplbmh1Yih1cmxCb2FyZCkpOw0KICAgICAgICAvLyBnZXQgY2xvc2VkIGlzc3VlIGFuZCBhZGQgaXQgdG8gdGhlIGdldEJvYXJkDQogICAgICAgIHRoaXMuZ2V0Qm9hcmRbaV0ucGlwZWxpbmVzLnB1c2goe25hbWU6J0Nsb3NlZCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGF3YWl0IEFwaS5nZXREYXRhKHVybENsb3NlZCl9KTsNCiAgICAgICAgLy8gZ2V0IGlzc3VlcyByYXcgZGF0YQ0KICAgICAgICB2YXIgcmF3SXNzdWUgPSBhd2FpdCBBcGkuZ2V0RGF0YSh1cmxQcmlvcml0eSk7DQogICAgICAgIC8vIGxvb2sgb3ZlciBlYWNoIHBpcGVsaW5lDQogICAgICAgIGZvciggdmFyIGs9MDsgazx0aGlzLmdldEJvYXJkW2ldLnBpcGVsaW5lcy5sZW5ndGg7IGsrKyApew0KICAgICAgICAgIC8vIHZhcmlhYmxlIHRvIHN0b3JlIGVhY2gNCiAgICAgICAgICB2YXIgdG90YWxGb3JQaXBlbGluZSA9IDA7DQogICAgICAgICAgLy8gaW5pdGlhbGl6ZSBoaWdoIHRvIDANCiAgICAgICAgICB0aGlzLmdldEJvYXJkW2ldLnBpcGVsaW5lc1trXS5oaWdoID0gMDsNCiAgICAgICAgICAvLyBsb29rIGZvciBlYWNoIGVycm9yIGluIHBpcGVsaW5lIA0KICAgICAgICAgIGZvciggdmFyIHo9MDsgejx0aGlzLmdldEJvYXJkW2ldLnBpcGVsaW5lc1trXS5pc3N1ZXMubGVuZ3RoOyB6KysgKXsNCiAgICAgICAgICAgIC8vIGxvb2sgYXQgdGhlIHJhdyBpc3N1ZSBhcnJheSANCiAgICAgICAgICAgIGZvcih2YXIgaj0wOyBqPHJhd0lzc3VlLmxlbmd0aDsgaisrICl7DQogICAgICAgICAgICAgIGlmKHJhd0lzc3VlW2pdLm51bWJlciA9PSB0aGlzLmdldEJvYXJkW2ldLnBpcGVsaW5lc1trXS5pc3N1ZXNbel0uaXNzdWVfbnVtYmVyKXsNCiAgICAgICAgICAgICAgICB0b3RhbEZvclBpcGVsaW5lKys7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZ2V0Qm9hcmRbaV0ucGlwZWxpbmVzW2tdLmhpZ2ggPSB0b3RhbEZvclBpcGVsaW5lOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgY2F0Y2ggKGUpew0KICAgICAgICB0aGlzLmdldEJvYXJkLnB1c2goJ2Vycm9yJyk7DQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIHRoaXMubmxvb3BzID0gcGFyc2VJbnQodGhpcy5tYWluQ2F0ZWdvcnkucmVwby5sZW5ndGggLyAzKSArIDE7DQogICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQoNCiAgfQ0KfQ0K"},{"version":3,"sources":["CategoryMain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"CategoryMain.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"CategoryMain\">\r\n    <div v-if=\"loading\">\r\n        <br><br><br>\r\n         <b-spinner style=\"width: 3rem; height: 3rem;\" label=\"Large Spinner\"></b-spinner>\r\n    </div>\r\n\r\n    <div v-if=\"!loading\"> \r\n      <b-jumbotron\r\n        fluid\r\n        bg-variant=\"dark\"\r\n        text-variant=\"white\"\r\n        header= \"Hyper Scalors\"\r\n        lead=\"Members:\"\r\n      >\r\n       <template v-slot:header>{{nameofCategory}}</template>\r\n        <div v-if=\"!!mainCategory\">\r\n          <div v-for=\"member in mainCategory.cMembers\" :key=\"member.id\" >\r\n            <p :id=\"member.name\" style=\"display:inline-block\">\r\n              {{member.id}}\r\n              <b-icon-person></b-icon-person>\r\n            </p>\r\n            <b-tooltip placement=\"right\" :target=\"member.name\" variant=\"info\">{{member.name}}</b-tooltip>\r\n          </div>\r\n        </div>\r\n\r\n        <p>\r\n          <b-badge>Repositories</b-badge>\r\n        </p>\r\n      </b-jumbotron>\r\n      \r\n\r\n      <div class=\"input-group md-form form-sm form-1 pl-0\">\r\n        <div class=\"input-group-prepend\">\r\n          <span class=\"input-group-text lighten-3\" id=\"basic-text1\">\r\n            <b-icon icon=\"search\"></b-icon>\r\n          </span>\r\n        </div>\r\n        <input class=\"form-control my-0 py-1\" type=\"text\" placeholder=\"Search for Repository\" aria-label=\"Search\" v-model=\"search\">\r\n      </div>\r\n      <br>\r\n\r\n      <b-card-group deck v-for=\"i in nloops\" :key=\"i\">\r\n\r\n        <b-card border-variant=\"dark\"  v-for=\"(c, index) in filteredList.slice((i-1)*3,(i-1)*3+3)\" :key=\"c.id\" style=\"max-width:30.7% ;margin-bottom: 20px\">\r\n\r\n          <template v-slot:header>\r\n            <h6 class=\"mb-0\">{{c.shortName}}</h6>\r\n          </template>\r\n\r\n          <b-card-text>\r\n            <div v-if=\"getBoard[index].pipelines\">\r\n              <table style=\"width:100%\">\r\n                <tr> \r\n                  <th class=\"table\"> Pipeline Name </th>\r\n                  <th> Number of Issues </th>\r\n                  <th> High </th>\r\n                </tr>\r\n                <tr v-for=\"x in getBoard[index].pipelines\" :key=\"x.name\">\r\n                  <td class=\"table\">{{x.name}}</td>\r\n                  <td>{{x.issues.length}}</td>\r\n                  <td> {{x.high}}</td>\r\n                </tr>\r\n                \r\n              </table>\r\n            </div>\r\n            <div v-else>\r\n              <p>no Zenhub for this repo</p> \r\n            </div>\r\n          </b-card-text>\r\n\r\n          <template v-slot:footer>\r\n            <b-button\r\n              :href=\"c.url\"\r\n              target=\"_blank\"\r\n              variant=\"secondary\"\r\n            >Repo</b-button>  <span></span>\r\n          \r\n            <b-button\r\n              href=\"https://github.wdf.sap.corp/SLV-Tools\"\r\n              target=\"_blank\"\r\n              variant=\"secondary\"\r\n            >Issues</b-button> <span></span>\r\n            \r\n            <b-button\r\n              @click=\"copySsh(c.ssh)\"\r\n              target=\"_blank\"\r\n              variant=\"secondary\"\r\n            >Copy SSH</b-button>\r\n          </template>\r\n        </b-card>\r\n      </b-card-group>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Api from '../api/api'\r\n\r\nexport default {\r\n  name: \"CategoryMain\",\r\n  data() {\r\n    return {\r\n      search: '',\r\n      mainCategory: [{}],\r\n      nameofCategory: this.$route.query.plan,\r\n      index: parseInt(this.$route.query.plan2),\r\n      getBoard: [],\r\n      nloops: 0,\r\n      loading: false\r\n    }\r\n  },\r\n  computed: {\r\n    organization(){\r\n      return this.$store.state.organization;\r\n    },\r\n    filteredList(){\r\n      return this.mainCategory.repo.filter(rep => {\r\n          return rep.shortName.toLowerCase().includes(this.search.toLowerCase())\r\n        })\r\n      }\r\n  },\r\n  methods: {\r\n    copySsh(ssh){\r\n      Api.copySsh(ssh);\r\n      this.$swal.fire({\r\n        title: 'Copied!',\r\n        text: 'The ssh path has been copied to the clipboard.',\r\n        icon: 'success',\r\n        timer: 1000\r\n        })\r\n    }\r\n  },\r\n  async mounted(){\r\n    this.loading = true\r\n    this.mainCategory = this.$route.params.category;\r\n    if (typeof(this.category) == 'undefined' || this.category === null){\r\n      // url to request generic data about the organization data\r\n      var url = `https://github.wdf.sap.corp/api/v3/orgs/${this.organization}/repos?per_page=100`;\r\n\r\n      // call to the method to retrive data and wait for the data to come back\r\n      this.getRepos = await Api.getData(url);\r\n\r\n      // divide the repos in category ('*' means all the categories)\r\n      this.mainCategory = (await Api.getCategory(this.getRepos,this.$route.query.plan,\"*\"))[0];\r\n    }\r\n    else {\r\n      this.mainCategory = this.mainCategory[this.index];\r\n    }\r\n\r\n    for (var i=0; i<this.mainCategory.repo.length; i++){\r\n      // url to request generic data about the organization data\r\n      var urlBoard = `https://zenhub.mo.sap.corp/p1/repositories/${this.mainCategory.repo[i].id}/board`;\r\n\r\n      // url to request all the high issues\r\n      var urlPriority = `https://github.wdf.sap.corp/api/v3/repos/${this.organization}/${this.mainCategory.repo[i].longName}/issues?labels=high issue`;\r\n\r\n      // url to request closed issues\r\n      var urlClosed = `https://github.wdf.sap.corp/api/v3/repos/${this.organization}/${this.mainCategory.repo[i].longName}/issues?state=closed`;\r\n\r\n      // call to the method to retrive data and wait for the data to come back\r\n      try{\r\n        this.getBoard.push(await Api.getDataZenhub(urlBoard));\r\n        // get closed issue and add it to the getBoard\r\n        this.getBoard[i].pipelines.push({name:'Closed',\r\n                                          issues: await Api.getData(urlClosed)});\r\n        // get issues raw data\r\n        var rawIssue = await Api.getData(urlPriority);\r\n        // look over each pipeline\r\n        for( var k=0; k<this.getBoard[i].pipelines.length; k++ ){\r\n          // variable to store each\r\n          var totalForPipeline = 0;\r\n          // initialize high to 0\r\n          this.getBoard[i].pipelines[k].high = 0;\r\n          // look for each error in pipeline \r\n          for( var z=0; z<this.getBoard[i].pipelines[k].issues.length; z++ ){\r\n            // look at the raw issue array \r\n            for(var j=0; j<rawIssue.length; j++ ){\r\n              if(rawIssue[j].number == this.getBoard[i].pipelines[k].issues[z].issue_number){\r\n                totalForPipeline++;\r\n              }\r\n            }\r\n            this.getBoard[i].pipelines[k].high = totalForPipeline;\r\n          }\r\n        }\r\n      }\r\n      catch (e){\r\n        this.getBoard.push('error');\r\n        this.loading = false;\r\n      }\r\n    }\r\n\r\n    this.nloops = parseInt(this.mainCategory.repo.length / 3) + 1;\r\n    this.loading = false;\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.table{\r\n  text-align:left;\r\n}\r\n</style>\r\n"]}]}